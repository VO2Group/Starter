<!DOCTYPE html>
<html lang=en>
  <head>
    <title>Starter</title>
    <meta charset=utf-8>
    <meta name=viewport content="initial-scale=1">
    <script>
      function init() {
        window.platform = window.platform || {
          name: function () {
            return 'www';
          },

          foo: function (message) {
            alert(message);
          },

          bar: function (message, callback) {
            callback(null, confirm(message));
          },
        };

        document.addEventListener('pause', onPause);
        document.addEventListener('resume', onResume);

        document.getElementById('title').textContent = 'Starter(' + platform.name() + ')';
        document.getElementById('foo').addEventListener('click', onFoo);
        document.getElementById('bar').addEventListener('click', onBar);

        ///////////

        function onPause() {
          console.log('pausing...');
        }

        function onResume() {
          console.log('resuming...');
        }

        function onFoo() {
          platform.foo('Hello!');
        }

        function onBar() {
          platform.bar('Do you love Javascript?', onAnswer);
        }

        function onAnswer(err, data) {
          if (err)
            throw err;
          document.getElementById('answer').textContent = (data ? 'Yes' : 'No') + '!';
        }
      }
    </script>
  </head>
  <body onload="init()">
    <h1 id=title></h1>
    <button id=foo>Foo</button>
    <button id=bar>Bar</button>
    <span id=answer></span>
  </body>
</html>
